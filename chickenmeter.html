
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ChickenMeter Debug</title>
<style>
  body { margin:0; background:transparent; overflow:hidden; }
  #container { 
    position:relative; 
    width:400px; 
    height:600px; 
    margin:auto; 
    background:#222; /* dark bg so orange stands out */
  }

#fill {
  position:absolute;
  bottom:0; left:0;
  width:100%; height:0%;
  background:orange; /* force solid orange */
  z-index:0; /* stay behind the chicken meter */
  transition:height 1s ease;
}
#background {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:url("fillmeter_background.png") no-repeat center;
  background-size:contain;
  z-index:1; /* on top */
}
  }
</style>
</head>
<body>
  <div id="container">
    <div id="fill"></div>
    <div id="background"></div>
    <audio id="cluck" src="yipeeeeeeeee.mp3" preload="auto"></audio>
  </div>

<script>
  const GOAL = 500;
  let currentCoins = 0;

  function updateFill() {
    let percent = Math.min(100, (currentCoins / GOAL) * 100);
    console.log("Updating fill to:", percent + "%");
    const fill = document.getElementById("fill");
    if (fill) {
      fill.style.height = percent + "%";
      fill.style.backgroundColor = "orange"; // force visible
    } else {
      console.log("⚠️ #fill element not found");
    }
  }

  document.addEventListener("keydown", (event) => {
    if (event.key.toLowerCase() === "t") {
      console.log("Test gift triggered");
      currentCoins += 50;
      updateFill();
    }
    if (event.key.toLowerCase() === "y") {
      console.log("Reset triggered");
      currentCoins = 0;
      updateFill();
    }
  });
</script>
